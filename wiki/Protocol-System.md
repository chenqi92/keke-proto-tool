# хНПшооч│╗ч╗Я

ProtoTool чЪДхНПшооч│╗ч╗ЯцПРф╛Ых╝║хдзчЪДхНПшоошзгцЮРхТМчФЯцИРхКЯшГ╜я╝МцФпцМБхдЪчзНхНПшооца╝х╝ПхТМшЗкхоЪф╣ЙцЙйх▒ХуАВ

## чЫох╜Х

- [хНПшооч│╗ч╗ЯцжВш┐░](#хНПшооч│╗ч╗ЯцжВш┐░)
- [хНПшооца╝х╝П](#хНПшооца╝х╝П)
- [хНПшоохХЖх║Ч](#хНПшоохХЖх║Ч)
- [хНПшоочобчРЖ](#хНПшоочобчРЖ)
- [ф╜┐чФихНПшоо](#ф╜┐чФихНПшоо)
- [хИЫх╗║шЗкхоЪф╣ЙхНПшоо](#хИЫх╗║шЗкхоЪф╣ЙхНПшоо)

## хНПшооч│╗ч╗ЯцжВш┐░

### ца╕х┐ГхКЯшГ╜

- **хНПшоошпЖхИл**: шЗкхКишпЖхИлч╜Сч╗ЬцКецЦЗчЪДхНПшооч▒╗хЮЛ
- **хНПшоошзгцЮР**: х░ЖхОЯхзЛхнЧшКВц╡БшзгцЮРф╕║ч╗УцЮДхМЦцХ░цНо
- **хНПшоочФЯцИР**: ца╣цНоч╗УцЮДхМЦцХ░цНочФЯцИРхОЯхзЛхнЧшКВц╡Б
- **хНПшоощкМшпБ**: щкМшпБцКецЦЗчЪДхоМцХ┤цАзхТМцнгчбоцАз

### цФпцМБчЪДхНПшооца╝х╝П

ProtoTool цФпцМБф╕дчзНхНПшоохоЪф╣Йца╝х╝Пя╝Ъ

1. **YAML ца╝х╝П** (`.kkp.yaml`)
   - хг░цШОх╝ПщЕНч╜о
   - цШУф║ОщШЕшп╗хТМч╝Цш╛С
   - щАВхРИчоАхНХхИ░ф╕нчнЙхдНцЭВх║жчЪДхНПшоо

2. **KPT ца╝х╝П** (`.kpt`)
   - ф╕УчФихНПшоохоЪф╣ЙшпншиА
   - цЫ┤х╝║хдзчЪДшбиш╛╛шГ╜хКЫ
   - щАВхРИхдНцЭВхНПшоо

шпжшзБ [[Protocol Format Guide|Protocol-Format-Guide]]уАВ

### хНПшооч╗ДцИР

ф╕Аф╕кхоМцХ┤чЪДхНПшоохоЪф╣ЙхМЕхРля╝Ъ

1. **хЕГцХ░цНоя╝ИMetaя╝Й**
   - хНПшоохРНчз░уАБчЙИцЬмуАБф╜ЬшАЕ
   - цППш┐░уАБхИЖч▒╗уАБцаЗчн╛

2. **х╕зхоЪф╣Йя╝ИFramingя╝Й** тЪая╕П х┐ЕщЬА
   - хИЖщЪФчмжцибх╝П
   - щХ┐х║жхнЧцо╡цибх╝П
   - хЫ║хоЪхдзх░Пцибх╝П

3. **хнЧцо╡хоЪф╣Йя╝ИFieldsя╝Й**
   - хнЧцо╡хРНчз░уАБф╜Нч╜оуАБхдзх░П
   - цХ░цНоч▒╗хЮЛуАБч╝ЦчаБцЦ╣х╝П
   - щкМшпБшзДхИЩ

4. **цабщкМшзДхИЩя╝ИValidationя╝Й**
   - CRC/цабщкМхТМ
   - шМГхЫ┤цгАцЯе
   - шЗкхоЪф╣ЙщкМшпБ

## хНПшооца╝х╝П

### YAML ца╝х╝Пчд║ф╛Л

```yaml
meta:
  name: "HJ212-2017"
  version: "1.0.0"
  author: "Environmental Team"
  description: "HJ212-2017 чОпф┐ЭцХ░цНоф╝аш╛УхНПшоо"
  category: "environmental"

framing:
  mode: delimiters
  header: "##"
  footer: "\r\n"

fields:
  - name: data_length
    at: 0
    size: 4
    encoding: dec_ascii
    description: "цХ░цНоцо╡щХ┐х║ж"
  
  - name: data_segment
    at: 4
    size_from: data_length
    encoding: utf8
    description: "цХ░цНоцо╡хЖЕхо╣"
```

### KPT ца╝х╝Пчд║ф╛Л

```
protocol "modbus-tcp" {
  title "Modbus TCP"
  version "1.0.0"
  description "Modbus TCP х╖еф╕ЪщАЪф┐бхНПшоо"
  
  frame {
    mode length
    header "00 00"
    length at +4 size 2 encoding big_endian includes payload
  }
  
  field "transaction_id" {
    at +0
    size 2
    encoding big_endian
    description "ф║ЛхКбцаЗшпЖчмж"
  }
  
  field "function_code" {
    at +7
    size 1
    encoding uint8
    description "хКЯшГ╜чаБ"
  }
}
```

## хНПшоохХЖх║Ч

шпжшзБ [[Protocol Store|Protocol-Store]]уАВ

### шо┐щЧохНПшоохХЖх║Ч

1. чВ╣хЗ╗х╖жф╛зхп╝шИкцаПчЪД"хНПшооф╗Ух║У"
2. хИЗцНвхИ░"хНПшоохХЖх║Ч"цаЗчн╛
3. ц╡ПшзИхПпчФичЪДхНПшоо

### ц╡ПшзИхНПшоо

хНПшоохХЖх║ЧцПРф╛Ыя╝Ъ
- **цРЬч┤вхКЯшГ╜**: цМЙхРНчз░уАБцППш┐░уАБцаЗчн╛цРЬч┤в
- **хИЖч▒╗чнЫщАЙ**: цМЙхНПшоохИЖч▒╗чнЫщАЙ
- **шпжч╗Жф┐бцБп**: цЯечЬЛхНПшоочЪДшпжч╗Жф┐бцБп
- **хоЙшгЕчК╢цАБ**: цШ╛чд║х╖▓хоЙшгЕчЪДхНПшоо

### хоЙшгЕхНПшоо

1. хЬихНПшоохХЖх║Чф╕нцЙ╛хИ░щЬАшжБчЪДхНПшоо
2. чВ╣хЗ╗"хоЙшгЕ"цМЙщТо
3. чнЙх╛Еф╕Лш╜╜хТМхоЙшгЕхоМцИР
4. хЬи"х╖▓хоЙшгЕхНПшоо"цаЗчн╛ф╕нцЯечЬЛ

### хНПшоохИЖч▒╗

- **environmental**: чОпф┐ЭхНПшооя╝ИхжВ HJ212я╝Й
- **industrial**: х╖еф╕ЪхНПшооя╝ИхжВ Modbusя╝Й
- **iot**: чЙйшБФч╜СхНПшоо
- **network**: ч╜Сч╗ЬхНПшоо
- **custom**: шЗкхоЪф╣ЙхНПшоо

## хНПшоочобчРЖ

### х╖▓хоЙшгЕхНПшоо

хЬи"хНПшооф╗Ух║У"чЪД"х╖▓хоЙшгЕхНПшоо"цаЗчн╛ф╕нхПпф╗ея╝Ъ
- цЯечЬЛцЙАцЬЙх╖▓хоЙшгЕчЪДхНПшоо
- цЯечЬЛхНПшоошпжч╗Жф┐бцБп
- хп╝хЗ║хНПшооцЦЗф╗╢
- хИащЩдхНПшоо

### хп╝хЕехНПшоо

**ф╗ОцЦЗф╗╢хп╝хЕе**я╝Ъ
1. чВ╣хЗ╗"хп╝хЕехНПшоо"цМЙщТо
2. щАЙцЛйхНПшооцЦЗф╗╢я╝И.kkp.yaml цИЦ .kptя╝Й
3. щкМшпБхНПшооца╝х╝П
4. чбошодхп╝хЕе

**ф╗ОхНПшоохХЖх║ЧхоЙшгЕ**я╝Ъ
- чЫ┤цОеф╗ОхНПшоохХЖх║Чф╕АщФохоЙшгЕ

### хп╝хЗ║хНПшоо

1. хЬих╖▓хоЙшгЕхНПшоохИЧшбиф╕нщАЙцЛйхНПшоо
2. чВ╣хЗ╗"хп╝хЗ║"цМЙщТо
3. щАЙцЛйф┐ЭхнШф╜Нч╜о
4. хНПшооцЦЗф╗╢х░Жшвлхп╝хЗ║

### хИащЩдхНПшоо

1. хЬих╖▓хоЙшгЕхНПшоохИЧшбиф╕нщАЙцЛйхНПшоо
2. чВ╣хЗ╗"хИащЩд"цМЙщТо
3. чбошодхИащЩдцУНф╜Ь

тЪая╕П ц│ицДПя╝ЪхИащЩдхНПшооф╕Нф╝Ъх╜▒хУНх╖▓ф╜┐чФишпехНПшоочЪДф╝ЪшпЭуАВ

## ф╜┐чФихНПшоо

### хЬиф╝ЪшпЭф╕нх║ФчФихНПшоо

1. цЙУх╝Аф╕Аф╕кц┤╗хКиф╝ЪшпЭ
2. чВ╣хЗ╗"щАЙцЛйхНПшоо"цМЙщТо
3. ф╗ОхИЧшбиф╕нщАЙцЛйхНПшоо
4. хНПшоошЗкхКих║ФчФихИ░цЦ░цОецФ╢чЪДцХ░цНо

### цЯечЬЛшзгцЮРч╗УцЮЬ

шзгцЮРч╗УцЮЬф╗ецаСх╜вч╗УцЮДцШ╛чд║я╝Ъ

```
ЁЯУж ц╢ИцБп #1
тФЬтФА ЁЯУД header: "##"
тФЬтФА ЁЯФв data_length: 100
тФЬтФА ЁЯУЭ data_segment: "..."
тФФтФА тЬУ crc: 0xABCD (щкМшпБщАЪш┐З)
```

цпПф╕кхнЧцо╡цШ╛чд║я╝Ъ
- хнЧцо╡хРНчз░
- шзгцЮРхРОчЪДхА╝
- цХ░цНоч▒╗хЮЛ
- хнЧшКВхБПчз╗хТМщХ┐х║ж
- щкМшпБчК╢цАБ

### шзгцЮРщАЙщб╣

**шЗкхКишзгцЮР**я╝Ъ
- цОецФ╢цХ░цНоцЧ╢шЗкхКишзгцЮР
- хоЮцЧ╢цШ╛чд║шзгцЮРч╗УцЮЬ

**цЙЛхКишзгцЮР**я╝Ъ
- щАЙцЛйцХ░цНохРОцЙЛхКишзжхПСшзгцЮР
- щАВхРИш░ГшпХхТМц╡ЛшпХ

**хо╣щФЩцибх╝П**я╝Ъ
- ф╕еца╝цибх╝Пя╝ЪшзгцЮРхд▒ш┤ецЧ╢цКещФЩ
- хо╜цЭ╛цибх╝Пя╝Ъх░╜хПпшГ╜шзгцЮРя╝Мх┐╜чХещФЩшпп
- ф┐ЭчХЩхОЯхзЛя╝ЪшзгцЮРхд▒ш┤ецЧ╢ф┐ЭчХЩхОЯхзЛцХ░цНо

## хИЫх╗║шЗкхоЪф╣ЙхНПшоо

шпжшзБ [[Creating Protocols|Creating-Protocols]]уАВ

### хИЫх╗║цнещкд

1. **чбохоЪхНПшоошзДшМГ**
   - х╕зч╗УцЮД
   - хнЧцо╡хоЪф╣Й
   - цабщкМшзДхИЩ

2. **щАЙцЛйца╝х╝П**
   - YAML ца╝х╝Пя╝ИцОишНРцЦ░цЙЛя╝Й
   - KPT ца╝х╝Пя╝ИщлШч║зчФицИ╖я╝Й

3. **ч╝ЦхЖЩхНПшооцЦЗф╗╢**
   - хоЪф╣ЙхЕГцХ░цНо
   - хоЪф╣Йх╕зч╗УцЮД
   - хоЪф╣ЙхнЧцо╡
   - ц╖╗хКащкМшпБшзДхИЩ

4. **ц╡ЛшпХхНПшоо**
   - хп╝хЕехНПшоо
   - ф╜┐чФиц╡ЛшпХцХ░цНощкМшпБ
   - ш░ГшпХхТМф╝ШхМЦ

5. **хИЖф║лхНПшоо**
   - хп╝хЗ║хНПшооцЦЗф╗╢
   - цПРф║дхИ░хНПшоохХЖх║Ч

### хНПшооцЦЗф╗╢шжБц▒В

ф╕Аф╕кцЬЙцХИчЪДхНПшооцЦЗф╗╢х┐Ещб╗хМЕхРля╝Ъ

тЬЕ **х┐ЕщЬАщГихИЖ**я╝Ъ
- хЕГцХ░цНоя╝Иmetaя╝Й
- х╕зхоЪф╣Йя╝Иframingя╝Й

тЬЕ **цОишНРщГихИЖ**я╝Ъ
- хнЧцо╡хоЪф╣Йя╝Иfieldsя╝Й
- щкМшпБшзДхИЩя╝Иvalidationя╝Й

тЬЕ **хПпщАЙщГихИЖ**я╝Ъ
- чд║ф╛ЛцХ░цНоя╝Иexamplesя╝Й
- ц╡ЛшпХчФиф╛Ля╝Иtestsя╝Й

### х╕зхоЪф╣Йцибх╝П

**хИЖщЪФчмжцибх╝П**я╝Ъ
```yaml
framing:
  mode: delimiters
  header: "##"
  footer: "\r\n"
```

**щХ┐х║жхнЧцо╡цибх╝П**я╝Ъ
```yaml
framing:
  mode: length
  header: "00 00"
  length:
    at: 4
    size: 2
    encoding: big_endian
    includes: payload
```

**хЫ║хоЪхдзх░Пцибх╝П**я╝Ъ
```yaml
framing:
  mode: fixed
  size: 1024
```

## хНПшоош░ГшпХ

### ф╜┐чФихНПшоошзгцЮРхЩих╖ехЕ╖

1. цЙУх╝Ах╖ехЕ╖чо▒ф╕нчЪД"хНПшоошзгцЮРхЩи"
2. щАЙцЛйшжБц╡ЛшпХчЪДхНПшоо
3. ш╛УхЕец╡ЛшпХцХ░цНо
4. цЯечЬЛшзгцЮРч╗УцЮЬ
5. ш░ГшпХхТМф┐оцФ╣хНПшоо

### х╕╕шзБщЧощвШ

**шзгцЮРхд▒ш┤е**я╝Ъ
- цгАцЯех╕зхоЪф╣ЙцШпхРжцнгчбо
- щкМшпБхнЧцо╡хБПчз╗хТМхдзх░П
- цЯечЬЛщФЩшппцЧех┐Ч

**хнЧцо╡хА╝ф╕Нцнгчбо**я╝Ъ
- цгАцЯеч╝ЦчаБцЦ╣х╝П
- щкМшпБхнЧшКВх║Пя╝Ихдзчлп/х░Пчлпя╝Й
- чбошодхнЧцо╡ф╜Нч╜о

**цабщкМхд▒ш┤е**я╝Ъ
- щкМшпБцабщкМчоЧц│Х
- цгАцЯецабщкМшМГхЫ┤
- чбошодцабщкМхнЧцо╡ф╜Нч╜о

шпжшзБ [[Protocol Troubleshooting|Protocol-Troubleshooting]]уАВ

## щлШч║зхКЯшГ╜

### хНПшооцПТф╗╢

ф╜┐чФи WASM цПТф╗╢цЙйх▒ХхНПшоохКЯшГ╜я╝Ъ
- хдНцЭВчЪДшзгцЮРщА╗ш╛С
- шЗкхоЪф╣ЙцабщкМчоЧц│Х
- цХ░цНохКахпЖ/шзгхпЖ
- хОЛч╝й/шзгхОЛч╝й

шпжшзБ [[Plugin Development|Plugin-Development]]уАВ

### хНПшооч╗ДхРИ

цФпцМБч╗ДхРИхдЪф╕кхНПшооя╝Ъ
- ф╝аш╛Ух▒ВхНПшоо + х║ФчФих▒ВхНПшоо
- хНПшооцаИшзгцЮР
- хдЪщШ╢цо╡шзгцЮР

### AI ш╛ЕхКй

- шЗкхКицОицЦнхНПшооч╗УцЮД
- хНПшоошпЖхИл
- х╝Вх╕╕цгАц╡Л
- хнЧцо╡х╗║шоо

## чЫ╕хЕ│ш╡Дц║Р

- [[Protocol Format Guide|Protocol-Format-Guide]] - хНПшооца╝х╝Пшпжч╗ЖцМЗхНЧ
- [[Protocol Store|Protocol-Store]] - хНПшоохХЖх║Чф╜┐чФицМЗхНЧ
- [[Creating Protocols|Creating-Protocols]] - хИЫх╗║хНПшооцХЩчиЛ
- [[Protocol Troubleshooting|Protocol-Troubleshooting]] - хНПшоощЧощвШцОТцЯе
- [хНПшоохХЖх║Чф╗Ух║У](https://github.com/chenqi92/keke-proto-tool-shop) - хНПшооцЦЗф╗╢ф╗Ух║У

## ш┤бчМохНПшоо

цмвш┐ОхРСхНПшоохХЖх║Чш┤бчМохНПшооя╝Б

1. Fork [хНПшоохХЖх║Чф╗Ух║У](https://github.com/chenqi92/keke-proto-tool-shop)
2. ц╖╗хКацВичЪДхНПшооцЦЗф╗╢
3. цПРф║д Pull Request
4. чнЙх╛Ехобца╕

шпжшзБхНПшоохХЖх║ЧчЪДш┤бчМоцМЗхНЧуАВ

---

**ф╕Кф╕Ащб╡**: [[User Guide|User-Guide]] | **ф╕Лф╕Ащб╡**: [[Protocol Format Guide|Protocol-Format-Guide]]

