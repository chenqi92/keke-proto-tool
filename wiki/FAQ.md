# 常见问题（FAQ）

本页面收集了 ProtoTool 使用过程中的常见问题和解答。

## 目录

- [安装和启动](#安装和启动)
- [连接问题](#连接问题)
- [协议解析](#协议解析)
- [数据收发](#数据收发)
- [性能问题](#性能问题)
- [插件和工具](#插件和工具)
- [其他问题](#其他问题)

## 安装和启动

### Q: Windows 上安装后无法启动？

**A**: 可能的原因和解决方法：

1. **缺少 WebView2 运行时**
   - 下载并安装 [Microsoft Edge WebView2 Runtime](https://developer.microsoft.com/microsoft-edge/webview2/)

2. **被杀毒软件拦截**
   - 将 ProtoTool 添加到杀毒软件白名单
   - 或临时关闭杀毒软件测试

3. **权限不足**
   - 右键点击应用，选择"以管理员身份运行"

### Q: macOS 上提示"无法打开，因为无法验证开发者"？

**A**: 这是 macOS 的安全机制。解决方法：

1. 右键点击应用图标
2. 选择"打开"
3. 在弹出的对话框中点击"打开"

或者在终端执行：
```bash
xattr -cr /Applications/ProtoTool.app
```

### Q: Linux 上 AppImage 无法运行？

**A**: 确保已添加执行权限：

```bash
chmod +x proto-tool_*.AppImage
./proto-tool_*.AppImage
```

如果仍然无法运行，尝试：
```bash
# 安装 FUSE
sudo apt install fuse libfuse2  # Ubuntu/Debian
sudo yum install fuse fuse-libs # RHEL/CentOS

# 或者解压运行
./proto-tool_*.AppImage --appimage-extract
./squashfs-root/AppRun
```

### Q: 如何更新到最新版本？

**A**: 
- **Windows MSI**: 直接安装新版本，会自动覆盖旧版本
- **macOS**: 下载新版本 DMG，替换 Applications 中的应用
- **Linux**: 下载新版本的包或 AppImage

应用内也会提示更新，可以通过菜单检查更新。

## 连接问题

### Q: TCP 连接失败，显示"连接超时"？

**A**: 检查以下几点：

1. **目标服务器是否运行**
   - 确认服务器已启动并监听指定端口

2. **网络连通性**
   - 使用 `ping` 或 `telnet` 测试连接
   - 检查防火墙设置

3. **端口号是否正确**
   - 确认端口号无误
   - 检查是否被其他程序占用

4. **超时设置**
   - 增加连接超时时间（设置 → 网络设置）

### Q: UDP 无法接收数据？

**A**: 可能的原因：

1. **端口绑定失败**
   - 检查端口是否被占用
   - 尝试使用其他端口

2. **防火墙阻止**
   - 允许 ProtoTool 通过防火墙
   - 检查系统防火墙规则

3. **广播/组播配置**
   - 确认网络接口配置正确
   - 检查组播地址是否正确

### Q: WebSocket 连接失败？

**A**: 检查：

1. **URL 格式**
   - 确保使用 `ws://` 或 `wss://` 前缀
   - 检查 URL 路径是否正确

2. **SSL/TLS 证书**
   - wss:// 需要有效的 SSL 证书
   - 可以在设置中允许自签名证书（仅用于测试）

3. **服务器支持**
   - 确认服务器支持 WebSocket 协议
   - 检查子协议协商

### Q: MQTT 连接失败？

**A**: 常见问题：

1. **认证失败**
   - 检查用户名和密码
   - 确认 Client ID 唯一

2. **协议版本**
   - 确认服务器支持的 MQTT 版本（3.1.1 或 5.0）
   - 在连接配置中选择正确的版本

3. **Keep Alive**
   - 调整 Keep Alive 间隔
   - 确保网络稳定

## 协议解析

### Q: 协议商店无法加载？

**A**: 可能的原因：

1. **网络问题**
   - 检查网络连接
   - 确认可以访问 GitHub

2. **API 限制**
   - GitHub API 有速率限制（未认证：60次/小时）
   - 等待一段时间后重试
   - 或配置 GitHub Token

3. **代理设置**
   - 如果使用代理，在设置中配置代理

### Q: 安装协议时提示"缺少帧定义"？

**A**: 这表示协议文件不完整。解决方法：

1. **联系协议作者**
   - 在协议仓库提交 Issue
   - 请求更新协议文件

2. **手动修复**
   - 下载协议文件
   - 添加 framing 配置
   - 手动导入

详见 [[Protocol Troubleshooting|Protocol-Troubleshooting]]。

### Q: 协议解析失败？

**A**: 检查：

1. **协议选择**
   - 确认选择了正确的协议
   - 检查协议版本

2. **数据格式**
   - 确认数据格式正确
   - 检查是否有半包或粘包

3. **容错模式**
   - 尝试启用容错模式
   - 查看详细错误信息

### Q: 如何创建自定义协议？

**A**: 参考以下文档：

1. [[Protocol Format Guide|Protocol-Format-Guide]] - 协议格式规范
2. [[Creating Protocols|Creating-Protocols]] - 创建教程
3. 查看示例协议文件

## 数据收发

### Q: 发送的数据没有响应？

**A**: 检查：

1. **连接状态**
   - 确认连接处于活动状态
   - 查看连接状态指示器

2. **数据格式**
   - 确认数据格式正确（文本/十六进制/Base64）
   - 检查是否需要特殊字符（如换行符）

3. **服务器处理**
   - 确认服务器正常处理请求
   - 查看服务器日志

### Q: 接收的数据显示乱码？

**A**: 可能的原因：

1. **编码问题**
   - 尝试切换显示格式（文本/十六进制）
   - 检查字符编码设置

2. **二进制数据**
   - 二进制数据应使用十六进制显示
   - 不要使用文本格式显示二进制数据

3. **协议解析**
   - 应用正确的协议解析
   - 查看解析后的结构化数据

### Q: 如何发送十六进制数据？

**A**: 

1. 在发送区域选择"十六进制"格式
2. 输入十六进制字节，用空格分隔
   - 例如: `01 02 03 FF`
3. 点击发送

### Q: 如何导出接收的数据？

**A**: 

1. 在会话中点击"导出"按钮
2. 选择导出格式（TXT/CSV/JSON）
3. 选择保存位置
4. 确认导出

## 性能问题

### Q: 接收大量数据时界面卡顿？

**A**: 优化建议：

1. **限制显示行数**
   - 设置 → 性能设置 → 最大显示行数
   - 建议设置为 1000-5000 行

2. **关闭自动滚动**
   - 在数据显示区域关闭自动滚动

3. **使用过滤器**
   - 只显示需要的数据
   - 减少显示的数据量

4. **定期清理**
   - 定期清空数据显示区域
   - 或导出后清空

### Q: 内存占用过高？

**A**: 

1. **清理旧数据**
   - 关闭不需要的会话
   - 清空数据显示区域

2. **调整缓冲区**
   - 减小接收缓冲区大小
   - 设置 → 性能设置

3. **启用自动清理**
   - 设置自动清理阈值
   - 自动清理旧数据

### Q: CPU 占用过高？

**A**: 

1. **减少解析频率**
   - 关闭自动解析
   - 使用手动解析

2. **优化协议**
   - 检查协议定义是否高效
   - 避免复杂的正则表达式

3. **限制并发连接**
   - 减少同时活动的连接数

## 插件和工具

### Q: 如何安装插件？

**A**: 

1. 获取 .kkpplug 插件文件
2. 点击"协议仓库" → "插件管理"
3. 点击"导入插件"
4. 选择插件文件
5. 确认安装

### Q: 插件无法加载？

**A**: 检查：

1. **插件格式**
   - 确认是有效的 .kkpplug 文件
   - 检查 manifest.toml 是否正确

2. **权限问题**
   - 查看插件请求的权限
   - 确认是否授权

3. **兼容性**
   - 检查插件的最低版本要求
   - 确认 ProtoTool 版本兼容

### Q: 工具箱中的工具无法使用？

**A**: 

1. **检查输入**
   - 确认输入数据格式正确
   - 查看工具的使用说明

2. **查看错误信息**
   - 查看错误提示
   - 根据提示修正

3. **重启应用**
   - 尝试重启 ProtoTool

## 其他问题

### Q: 如何备份配置和数据？

**A**: 

配置和数据存储位置：
- **Windows**: `%APPDATA%\ProtoTool`
- **macOS**: `~/Library/Application Support/ProtoTool`
- **Linux**: `~/.config/ProtoTool`

备份这些文件夹即可。

### Q: 如何重置应用设置？

**A**: 

1. 关闭 ProtoTool
2. 删除配置文件夹（见上一问题）
3. 重新启动应用

⚠️ 注意：这会删除所有配置和数据。

### Q: 支持哪些操作系统？

**A**: 

- **Windows**: Windows 10 及以上
- **macOS**: macOS 10.15 (Catalina) 及以上
- **Linux**: 支持 GTK 3.0+ 的现代发行版
  - Ubuntu 18.04+
  - Debian 10+
  - Fedora 30+
  - 其他主流发行版

### Q: 是否支持命令行模式？

**A**: 

当前版本主要是 GUI 应用。命令行模式在开发计划中，将在未来版本提供。

### Q: 如何报告 Bug？

**A**: 

1. 访问 [GitHub Issues](https://github.com/chenqi92/keke-proto-tool/issues)
2. 搜索是否已有相同问题
3. 如果没有，创建新 Issue
4. 提供详细信息：
   - 操作系统和版本
   - ProtoTool 版本
   - 重现步骤
   - 错误日志
   - 截图（如果适用）

### Q: 如何请求新功能？

**A**: 

1. 访问 [GitHub Discussions](https://github.com/chenqi92/keke-proto-tool/discussions)
2. 在"Ideas"分类下创建讨论
3. 详细描述功能需求和使用场景
4. 参与讨论和投票

### Q: 是否有社区或交流群？

**A**: 

- **GitHub Discussions**: 主要交流平台
- **Issues**: Bug 报告和功能请求
- 更多交流渠道正在建设中

### Q: 项目是开源的吗？

**A**: 

是的，ProtoTool 是开源项目，采用 MIT 许可证。

- **源码**: https://github.com/chenqi92/keke-proto-tool
- **协议商店**: https://github.com/chenqi92/keke-proto-tool-shop

欢迎贡献代码！详见 [[Contributing]]。

## 找不到答案？

如果您的问题没有在这里找到答案：

1. 查看 [[Troubleshooting]] 页面
2. 搜索 [GitHub Issues](https://github.com/chenqi92/keke-proto-tool/issues)
3. 在 [Discussions](https://github.com/chenqi92/keke-proto-tool/discussions) 提问
4. 查看其他 Wiki 页面

---

**相关页面**: [[Troubleshooting]] | [[Getting Started|Getting-Started]] | [[User Guide|User-Guide]]

